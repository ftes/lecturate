04.12.2012 13:30:15: CREATE TABLE `rating` (`id` INT NOT NULL AUTO_INCREMENT,`mark` INT NOT NULL,`created` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,`o_id` INT NOT NULL,`dl_id` INT NOT NULL,`comment` VARCHAR (500),PRIMARY KEY (`id`),UNIQUE (`o_id`),FOREIGN KEY (`o_id`) REFERENCES `otpw` (`id`),FOREIGN KEY (`dl_id`) REFERENCES `docent_lecture` (`id`));
04.12.2012 13:30:15: CREATE TABLE `otpw` (`id` INT NOT NULL AUTO_INCREMENT,`otpw` VARCHAR (30) NOT NULL,`dl_id` INT NOT NULL,`used` TINYINT NOT NULL DEFAULT 0,`created` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,`used_ts` TIMESTAMP DEFAULT 0,PRIMARY KEY (`id`),UNIQUE (`otpw`),FOREIGN KEY (`dl_id`) REFERENCES `docent_lecture` (`id`));
04.12.2012 13:30:15: CREATE TABLE `classs_docent_lecture` (`id` INT NOT NULL AUTO_INCREMENT,`c_id` INT NOT NULL,`dl_id` INT NOT NULL,PRIMARY KEY (`id`),UNIQUE (`c_id`,`dl_id`),FOREIGN KEY (`c_id`) REFERENCES `classs` (`id`),FOREIGN KEY (`dl_id`) REFERENCES `docent_lecture` (`id`));
04.12.2012 13:30:15: CREATE TABLE `classs` (`id` INT NOT NULL AUTO_INCREMENT,`token` VARCHAR (30) NOT NULL,`size` INT NOT NULL,`a_id` INT NOT NULL,PRIMARY KEY (`id`),UNIQUE (`token`),FOREIGN KEY (`a_id`) REFERENCES `advisor` (`id`));
04.12.2012 13:30:14: CREATE TABLE `advisor` (`id` INT NOT NULL AUTO_INCREMENT,`username` VARCHAR (30) NOT NULL,`password` VARCHAR (30) NOT NULL,`firstname` VARCHAR (30) NOT NULL,`lastname` VARCHAR (30) NOT NULL,PRIMARY KEY (`id`),UNIQUE (`username`),UNIQUE (`firstname`,`lastname`));
04.12.2012 13:30:14: CREATE TABLE `docent_lecture` (`id` INT NOT NULL AUTO_INCREMENT,`d_id` INT NOT NULL,`l_id` INT NOT NULL,PRIMARY KEY (`id`),UNIQUE (`d_id`,`l_id`),FOREIGN KEY (`d_id`) REFERENCES `docent` (`id`),FOREIGN KEY (`l_id`) REFERENCES `lecture` (`id`));
04.12.2012 13:30:14: CREATE TABLE `docent` (`id` INT NOT NULL AUTO_INCREMENT,`firstname` VARCHAR (30) NOT NULL,`lastname` VARCHAR (30) NOT NULL,PRIMARY KEY (`id`),UNIQUE (`firstname`,`lastname`));
04.12.2012 13:30:14: CREATE TABLE `lecture` (`id` INT NOT NULL AUTO_INCREMENT,`token` VARCHAR (10) NOT NULL,`name` VARCHAR (100),PRIMARY KEY (`id`),UNIQUE (`token`));
04.12.2012 13:30:14: CREATE DATABASE lecturate
04.12.2012 13:30:14: DROP DATABASE lecturate
